<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NHS Wales Solutions Exchange - Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <img src="assets/img/nhs_wales_logo.png" alt="NHS Wales Logo" style="height: 40px;">
                <span class="ms-2">Solutions Exchange</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="solutions.html">Browse Solutions</a></li>
                    <li class="nav-item"><a class="nav-link" href="guides.html">Guides</a></li>
                    <li class="nav-item"><a class="nav-link" href="signup.html">Sign Up</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero-section text-white text-center">
        <div class="container">
            <h1 class="display-4">Explore NHS Wales Repositories</h1>
            <p class="lead">Access our comprehensive collection of NHS Wales data repositories, complete with user guides and training resources to support your work.</p>
            <a href="solutions.html" class="btn btn-primary btn-lg">View Solutions Exchange</a>
        </div>
    </header>

    <!-- Statistics Section -->
    <section id="statistics" class="py-5 bg-light">
        <div class="container">
            <h2 class="text-center mb-4">Solutions by Wales for everyone.</h2>
            <div id="metrics" class="row text-center">
                <!-- Metrics will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Success Stories Section -->
    <section id="success-stories" class="py-5">
        <div class="container">
            <h2 class="text-center mb-5">Success Stories</h2>
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="success-story mb-4">
                        <div class="row align-items-center">
                            <div class="col-md-3">
                                <img src="assets/img/ndrlogo.png" alt="PHW Success Story" class="img-fluid rounded">
                            </div>
                            <div class="col-md-9">
                                <h4>PHW Cookie Cutter Cutting the Cookies</h4>
                                <p class="text-muted">Our innovative approach to standardizing data processing workflows has revolutionized how Public Health Wales manages and analyzes health data across multiple departments.</p>
                            </div>
                        </div>
                    </div>
                    <div class="success-story mb-4">
                        <div class="row align-items-center">
                            <div class="col-md-3">
                                <img src="assets/img/information.jpg" alt="Emergency Department Success" class="img-fluid rounded">
                            </div>
                            <div class="col-md-9">
                                <h4>Emergency Department Forecasting Excellence</h4>
                                <p class="text-muted">Advanced predictive analytics helping emergency departments across Wales optimize staffing and resource allocation, leading to improved patient outcomes and reduced waiting times.</p>
                            </div>
                        </div>
                    </div>
                    <div class="success-story mb-4">
                        <div class="row align-items-center">
                            <div class="col-md-3">
                                <img src="assets/img/network image.jpg" alt="Collaboration Success" class="img-fluid rounded">
                            </div>
                            <div class="col-md-9">
                                <h4>Cross-Organisation Data Collaboration</h4>
                                <p class="text-muted">Breaking down silos between health boards through shared GitHub repositories, enabling unprecedented collaboration on analytics projects and shared learning initiatives.</p>
                            </div>
                        </div>
                    </div>
                    <div class="text-center mt-4">
                        <a href="guides.html" class="btn btn-outline-primary">Read More Success Stories</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Solutions Section -->
    <section id="featured" class="py-5 bg-light">
        <div class="container">
            <h2 class="text-center mb-5">Featured Solutions</h2>
            <div class="row">
                <!-- Featured item 1 -->
                <div class="col-md-4 mb-4">
                    <div class="card h-100 featured-card">
                        <img src="assets/img/information.jpg" class="card-img-top" alt="ED Analysis Forecast" style="height: 200px; object-fit: cover;">
                        <div class="card-body">
                            <h5 class="card-title">ED Analysis Forecast</h5>
                            <p class="card-text">Advanced emergency department forecasting tools to predict patient flow and optimize resource allocation across Welsh health boards.</p>
                        </div>
                    </div>
                </div>
                <!-- Featured item 2 -->
                <div class="col-md-4 mb-4">
                    <div class="card h-100 featured-card">
                        <img src="assets/img/network image.jpg" class="card-img-top" alt="Data Analytics Platform" style="height: 200px; object-fit: cover;">
                        <div class="card-body">
                            <h5 class="card-title">Data Analytics Platform</h5>
                            <p class="card-text">Comprehensive analytics solution for healthcare data processing, visualization, and insights generation for evidence-based decision making.</p>
                        </div>
                    </div>
                </div>
                <!-- Featured item 3 -->
                <div class="col-md-4 mb-4">
                    <div class="card h-100 featured-card">
                        <img src="assets/img/ndrlogo.png" class="card-img-top" alt="Clinical Decision Support" style="height: 200px; object-fit: cover; padding: 2rem; background: #f8f9fa;">
                        <div class="card-body">
                            <h5 class="card-title">Clinical Decision Support</h5>
                            <p class="card-text">AI-powered tools to assist healthcare professionals in making informed clinical decisions with real-time data insights and evidence-based recommendations.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- User Feedback Section -->
    <section id="user-feedback" class="py-5">
        <div class="container">
            <h2 class="text-center mb-5">User Feedback</h2>
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="card h-100 testimonial-card">
                        <div class="card-body text-center">
                            <div class="mb-3">
                                <img src="assets/img/nhs_wales_logo.png" alt="Rebecca" class="rounded-circle testimonial-avatar" style="width: 60px; height: 60px; object-fit: cover;">
                            </div>
                            <blockquote class="blockquote">
                                <p>"The Solutions Exchange has transformed how we share and collaborate on data analytics projects across Aneurin Bevan UHB. A terrific piece of innovation!"</p>
                            </blockquote>
                            <footer class="blockquote-footer">
                                <strong>Rebecca</strong><br>
                                <small class="text-muted">Aneurin Bevan UHB</small>
                            </footer>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card h-100 testimonial-card">
                        <div class="card-body text-center">
                            <div class="mb-3">
                                <img src="assets/img/nhs_wales_logo.png" alt="Jason" class="rounded-circle testimonial-avatar" style="width: 60px; height: 60px; object-fit: cover;">
                            </div>
                            <blockquote class="blockquote">
                                <p>"GitHub GIG Cymru has revolutionized our approach to open-source healthcare solutions. The collaborative environment is exceptional!"</p>
                            </blockquote>
                            <footer class="blockquote-footer">
                                <strong>Jason</strong><br>
                                <small class="text-muted">DHCW</small>
                            </footer>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card h-100 testimonial-card">
                        <div class="card-body text-center">
                            <div class="mb-3">
                                <img src="assets/img/nhs_wales_logo.png" alt="Cerys" class="rounded-circle testimonial-avatar" style="width: 60px; height: 60px; object-fit: cover;">
                            </div>
                            <blockquote class="blockquote">
                                <p>"The comprehensive repository collection and user guides have significantly accelerated our data science projects at Hywel Dda."</p>
                            </blockquote>
                            <footer class="blockquote-footer">
                                <strong>Cerys</strong><br>
                                <small class="text-muted">Hywel Dda UHB</small>
                            </footer>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- How to Contribute -->
    <section id="contribute" class="py-5 bg-light">
        <div class="container text-center">
            <h2>Join the Community</h2>
            <p class="lead">Help us build the future of digital health in Wales.</p>
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <a href="signup.html" class="btn btn-success btn-lg w-100">
                                <i class="fas fa-user-plus me-2"></i>Join GitHub GIG Cymru
                            </a>
                        </div>
                        <div class="col-md-6 mb-3">
                            <a href="guides.html" class="btn btn-outline-primary btn-lg w-100">
                                <i class="fas fa-book me-2"></i>Read the Guides
                            </a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <a href="solutions.html" class="btn btn-outline-secondary btn-lg w-100">
                                <i class="fas fa-search me-2"></i>Browse Solutions
                            </a>
                        </div>
                        <div class="col-md-6 mb-3">
                            <a href="https://github.com/GIGCymru" target="_blank" class="btn btn-outline-info btn-lg w-100">
                                <i class="fab fa-github me-2"></i>Visit GitHub
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="d-flex footer-navbar col-12">
                <div class="col-lg-12 mb-12 p-2 flex-fill footer-logo">
                    <img class="nav-large-image" src="assets/img/nhs_wales_logo.png" alt="NHS Wales | Digital Health and Care Wales">
                </div>
                
                <section class="p-2 flex-fill footer-section">
                    <ul class="justify-content-center">
                        <li><a href="#" class="nav-link" target="_self">Accessibility Statement</a></li>
                        <li><a href="#" class="nav-link" target="_self">Terms of use</a></li>
                        <li><a href="#" class="nav-link" target="_self">Privacy Notice</a></li>
                        <li><a href="#" class="nav-link" target="_self">Freedom of information</a></li>
                    </ul>
                </section>
            </div>

            <div class="builtBy">
                Built by <a href="https://dhcw.nhs.wales/" target="_self">Digital Health and Care Wales</a>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Fetch and display metrics
        async function fetchMetrics() {
            try {
                const response = await fetch('data/repositories.json');
                const repositories = await response.json();
                
                // Calculate real metrics from the data
                const totalSolutions = repositories.length;
                const totalStars = repositories.reduce((sum, repo) => sum + repo.stargazers_count, 0);
                const totalForks = repositories.reduce((sum, repo) => sum + repo.forks_count, 0);
                const organisations = new Set(repositories.map(repo => repo.owner.login));
                const totalOrganisations = organisations.size;
                
                // Calculate additional meaningful metrics
                const activeRepos = repositories.filter(repo => {
                    const lastUpdate = new Date(repo.updated_at);
                    const sixMonthsAgo = new Date();
                    sixMonthsAgo.setMonth(sixMonthsAgo.getMonth() - 6);
                    return lastUpdate > sixMonthsAgo;
                }).length;
                
                const languagesUsed = new Set(
                    repositories
                        .map(repo => repo.language)
                        .filter(lang => lang !== null)
                ).size;
                
                // Calculate total issues and collaborative activity
                const totalIssues = repositories.reduce((sum, repo) => sum + (repo.open_issues_count || 0), 0);
                const collaborativeRepos = repositories.filter(repo => repo.forks_count > 0 || repo.stargazers_count > 0).length;

                const metricsHtml = `
                    <div class="col-md-3"><div class="metric-card"><h3>${totalSolutions}</h3><p>Open Solutions</p></div></div>
                    <div class="col-md-3"><div class="metric-card"><h3>${totalOrganisations}</h3><p>NHS Wales Boards</p></div></div>
                    <div class="col-md-3"><div class="metric-card"><h3>${activeRepos}</h3><p>Active Projects</p></div></div>
                    <div class="col-md-3"><div class="metric-card"><h3>${collaborativeRepos}</h3><p>Collaborative Tools</p></div></div>
                `;
                document.getElementById('metrics').innerHTML = metricsHtml;

            } catch (error) {
                console.error('Error fetching metrics:', error);
                document.getElementById('metrics').innerHTML = '<p class="text-danger">Could not load statistics.</p>';
            }
        }

        document.addEventListener('DOMContentLoaded', fetchMetrics);
    </script>

</body>
</html>